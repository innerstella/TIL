웹 페이지 로딩 이전에 하는 렌더링

### csr

필요한 html, 자스 파일이 다 로딩되면 리액트가 실행 되면서 화면이 보임

### 프리 렌더링 시점

- 브라우저가 HTML을 받아오는 시점 이전
- 웹 브라우저가 html 코드를 받아오기 전에 렌더링함

### 프리렌더링 방법

1. 정적 생성 (static generation)
2. 서버 사이드 렌더링 (ssr)

### 정적 생성 : 빌드할 때 렌더링

- 빌드하는 시점에 렌더링을 함
  - 빌드 : 배포 전 소스 코드를 실행할 수 있는 형태로 만들어 놓는 것
- 빌드 할 때 html을 만드는 것
- 소스 코드를 빌드하면서 파일을 미리 만들어두었다가 웹 브라우저로 접속하면 만들어 놓은 걸 그대로 보내줌
- 이미 렌더링 된 html을 받기 때문에 빈 화면이 아니라 렌더링된 화면을 바로 보여줄 수 있음
- 렌더링된 상태에서 자스를 로딩하고 리액트를 실행하면, 화면에 렌더링된 부분이랑 리액트를 연결해서 이 다음부터는 클라이언트 사이드에서 리액트가 화면을 조작함
  - hydration : 이미 렌더링된 html과 리액트의 데이터를 연결하는 작업

### ssr : 리퀘스트가 들어오면 렌더링

- 렌더링된 html을 보내줌
- 정적 생성과 다른 점
  - 웹 브라우저가 GET 리퀘스트를 보낼 때마다 서버가 매번 렌더링을 해서 보내줌
- 웹 브라우저로 접속하면 그때마다 서버가 렌더링해서 html을 보내줌
  - 이미 렌더링 된 html을 받기 때문에 빈 화면이 아니라 렌더링된 화면을 바로 보여줄 수 있음
- 자스 로딩이 끝나면 hydration 작업 수행

### 언제 어떻게 쓸까?

- 정적 생성
- ssr

|           | SSR                                             | SSG                                           |
| --------- | ----------------------------------------------- | --------------------------------------------- |
| 요청 시   | 서버에서 즉시 HTML을 만들어서 응답              | 미리 다 만들어두고 요청 시에 해당 페이지 응답 |
| 적합한 곳 | 데이터가 달라져서 미리 만들어두기 어려운 페이지 | 바뀔 일이 거의 없어서 캐싱해두면 좋은 페이지  |

### 프리 렌더링 장점

- 초기 로딩이 빨라짐
- 검색 엔진 최적화가 됨

### 프리 렌더링 단점

- 사용자 경험 : 클릭했을 때 새로운 html을 받아오기 때문에 요청시마다 새로고침 되기 때문에 깜빡임이 생긴다.
- header나 footer처럼 중복되는 내용도 다시 렌더링 하여 받아야 하기 때문에초기진입은 CSR보다 빠를지언정 페이지 이동은 SSR이 느린편에 속한다.
- 완성된 html을 js보다 먼저 받아오기 때문에 완성된 html로 화면은 확인 되지만 js다운로드가 늦어진다면 기능이 먹통일 경우가 발생할 수 있다.
